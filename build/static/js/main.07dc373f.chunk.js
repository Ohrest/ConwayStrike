(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/BlueFlag.259d4dd6.png"},27:function(e,t,a){e.exports=a.p+"static/media/RedFlag.ca8dbb3a.png"},48:function(e,t,a){e.exports=a(83)},53:function(e,t,a){},54:function(e,t,a){},80:function(e,t){},83:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(42),r=a.n(o),c=(a(53),a(6)),l=a(11),i=a(12),d=a(14),u=a(13),m=a(15),h=(a(54),a(84)),g=a(85),p=a(86),f=(a(55),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={message:"",messages:[]},a.handleSubmit=a.handleSubmit.bind(Object(c.a)(Object(c.a)(a))),a.handleChange=a.handleChange.bind(Object(c.a)(Object(c.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.passSocket.on("updatedMessages",function(t){return e.setState({messages:t})})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.state.message.length>0&&this.state.message.length<100&&(this.props.passSocket.emit("newMessage",{messageEmitted:this.state.message,teamAssigned:this.props.teamAssigned}),this.setState({message:""}))}},{key:"handleChange",value:function(e){this.setState({message:e.target.value})}},{key:"render",value:function(){return s.a.createElement("div",{className:"Form1"},s.a.createElement("br",null),s.a.createElement("div",{className:"messageList"},s.a.createElement(h.a,{striped:!0,bordered:!0,hover:!0,variant:"dark"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Chat Box"))),s.a.createElement("tbody",null,this.state.messages.map(function(e){return s.a.createElement("tr",{style:{color:0==e.teamAssigned?"rgb(255,255,255)":1==e.teamAssigned?"rgb(60,20,255)":"rgb(255,20,60)"}},e.messageEmitted)})))),s.a.createElement(g.a,{onSubmit:this.handleSubmit},s.a.createElement(g.a.Group,{controlId:"formBasicMessage"},s.a.createElement(g.a.Label,null,"Type message"),s.a.createElement(g.a.Control,{type:"text",value:this.state.message,onChange:this.handleChange,placeholder:"Enter message.."})),s.a.createElement(p.a,{variant:"primary",type:"submit"},"Send")))}}]),t}(n.Component)),b=a(47),y=a(26),E=a.n(y),v=a(27),O=a.n(v),w=10,x=1600,k=800,S=b.connect("http://34.73.5.129:7856"),j=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.x,a=e.y,n=e.color;return s.a.createElement("div",{className:"Cell",style:{left:"".concat(w*t+1,"px"),top:"".concat(w*a+1,"px"),width:"".concat(w-1,"px"),height:"".concat(w-1,"px"),background:0==n?"rgb(255, 255, 255)":1==n?"rgb(60,20,255)":"rgb(255,20,60)"}})}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){var t=a.getElementOffset(),n=e.clientX+(window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft)-t.x,s=e.clientY+(window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)-t.y,o=.25*x,r=.75*x,c=k,l=0;function i(e){return(l-c)/(r-o)*(e-o)+c}var d=n,u=s;if(u-i(d)<0&&2==a.state.teamAssigned)console.log("Left");else if(!(u-i(d)>0&&1==a.state.teamAssigned)){console.log("On line");var m=Math.floor(n/w),h=Math.floor(s/w);console.log(m,h),S.emit("cellUpdate",{x:h,y:m,typeOfPattern:a.state.typeOfPattern,teamAssigned:a.state.teamAssigned})}},a.rows=k/w,a.cols=x/w,a.state={cells:[],usersOnline:0,typeOfPattern:"2",iterations:0,teamAssigned:0,scores:{blue:0,red:0},connectionStatus:S.connected},a.handlePatternChange=a.handlePatternChange.bind(Object(c.a)(Object(c.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;S.on("cells",function(t){return e.setState({cells:t})}),S.on("usersOnlineUpdate",function(t){return e.setState({usersOnline:t})}),S.on("iterationsUpdate",function(t){return e.setState({iterations:t})}),S.on("teamAssigned",function(t){return e.setState({teamAssigned:t})}),S.on("scoresUpdate",function(t){return e.setState({scores:t})})}},{key:"getElementOffset",value:function(){var e=this.boardRef.getBoundingClientRect(),t=document.documentElement;return{x:e.left+window.pageXOffset-t.clientLeft,y:e.top+window.pageYOffset-t.clientTop}}},{key:"handlePatternChange",value:function(e){this.setState({typeOfPattern:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state.cells;return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Board",style:{width:x,height:k,backgroundSize:"".concat(w,"px ").concat(w,"px")},onClick:this.handleClick,ref:function(t){e.boardRef=t}},s.a.createElement("img",{src:E.a,style:{width:"50px",height:"50px",marginTop:k/4,marginLeft:x/4,position:"absolute"}}),s.a.createElement("img",{src:O.a,style:{width:"50px",height:"50px",marginTop:k/4*3-30,marginLeft:x/4*3,position:"absolute"}}),t.map(function(e){return s.a.createElement(j,{x:e.x,y:e.y,color:e.color,key:"".concat(e.x,",").concat(e.y)})}),s.a.createElement("svg",{height:"800",width:"1600"},s.a.createElement("line",{x1:"400",y1:"800",x2:"1200",y2:"0",style:{stroke:"#dfdfdf",strokeWidth:"2"}}))),s.a.createElement("div",{className:"chat-sidebar"},s.a.createElement("div",null,"Server Status:",S.connected?s.a.createElement("span",{class:"badge badge-success"},"Connected"):s.a.createElement("span",{class:"badge badge-secondary"}," Waiting for connection.. "),"Users Online: ",this.state.usersOnline," ",s.a.createElement("br",null),"Pattern:",s.a.createElement("select",{class:"mdb-select md-form",onChange:this.handlePatternChange},s.a.createElement("option",{value:"1"},"Blinker"),s.a.createElement("option",{value:"2",selected:!0},"Glider"),s.a.createElement("option",{value:"3"},"Lightweight spaceship (LWSS)")),s.a.createElement("div",{style:{color:1==this.state.teamAssigned?"Blue":"Red",fontSize:"20px"}},"You have been assigned team ",1==this.state.teamAssigned?"Blue, you need to capture red flag!":"Red, you need to capture blue flag!"),"How to play: You can click only on the side of the board where your flag is, once a cell touches the opponent's flag, your team scores. Be careful not to destroy your own flag! If there's only one user online, the user gets to play against the server.",s.a.createElement("br",null),s.a.createElement("img",{src:E.a,style:{width:"50px",height:"50px"}})," ",this.state.scores.blue,s.a.createElement("img",{src:O.a,style:{width:"50px",height:"50px"}})," ",this.state.scores.red,s.a.createElement("br",null),"Iterations: ",this.state.iterations,s.a.createElement(f,{passSocket:S,teamAssigned:this.state.teamAssigned}))),s.a.createElement("div",{class:"line"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[48,1,2]]]);
//# sourceMappingURL=main.07dc373f.chunk.js.map